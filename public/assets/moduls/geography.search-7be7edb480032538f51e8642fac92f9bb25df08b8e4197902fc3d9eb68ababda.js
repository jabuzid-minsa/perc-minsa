var geography_search=function(){function e(e,n,o){$.ajax({url:e.url[n],type:"GET",dataType:"json",data:e.parameters,contentType:"application/json; charset=utf-8",success:function(n){e.dom_element[o].empty(),e.dom_element[o].append('<option value="">'+e.blank_option[o]+"</option>"),$.each(n,function(n,l){e.dom_element[o].append('<option value="'+l.id+'" data-code="'+l[o]+'">'+l.description+"</option>")})},error:function(e,n,o){console.log("error"),console.log(e),console.log(n),console.log(o)}})}function n(){var e={first_level:"first_level",second_level:"second_level",third_level:"third_level",fourth_level:"fourth_level",fifth_level:"fifth_level"},n=Object.keys(e),o=n.length;return{keys:n,levels:e,size:o}}function o(e,o){var t=n(),i="undefined"!=typeof o?1:0,c="undefined"!=typeof o?2:1,a=t.keys.indexOf(e)+i;return l(t.keys,t.keys.indexOf(e)+c,t.size),r(t.keys[a]),t.keys[a]}function l(e,n,o){var l=e.slice(n,o);n+1<o&&$.each(l,function(e,n){$("#"+n).parent().hide("slow"),$("#"+n).select2({allowClear:!0,val:""})})}function t(e,n,o){var l=""!==e?e:o;$(n).val(l)}function r(e){var n="#"+e;$(n).parent().show("slow")}function i(n,l,r){var i=o(n.current_level,n.current_level_value);t(l.current_level_option_value,l.dom_geography_id,l.country_id),c(n.current_level,r.size_country)&&"second_level"!=i&&e(r,n.current_level,i)}function c(e,o){var l=n();return l.keys.indexOf(e)<o-1}return{start_process:i}}();